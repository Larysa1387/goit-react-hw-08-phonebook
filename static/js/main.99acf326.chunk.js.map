{"version":3,"sources":["redux/auth/authOperations.js","redux/auth/authSlice.js","redux/auth/authSelectors.js","redux/contacts/contacts-selectors.js","services/ContactsAPI.js","redux/contacts/contacts-operations.js","components/ContactForm/ContactForm.jsx","components/icons/deleteIcon.svg","components/Contact/Contact.js","components/ContactList/ContactList.jsx","redux/contacts/contacts-actions.js","components/Filter/Filter.jsx","components/AuthNav/AuthNav.js","components/Navigation/Navigation.js","components/icons/dungeon.svg","components/UserMenu/UserMenu.js","components/AppBar/AppBar.js","components/PrivateRoute.js","components/PublicRoute.js","components/Container/Container.js","App.js","redux/contacts/contacts-reducer.js","redux/store.js","index.js","components/ContactForm/ContactForm.module.css","components/UserMenu/UserMenu.module.css","components/Contact/Contact.module.css","components/ContactList/ContactList.module.css","components/Filter/Filter.module.css","components/Container/Container.module.css"],"names":["axios","defaults","baseURL","token","headers","common","Authorization","register","createAsyncThunk","credentials","a","rejectWithValue","post","data","message","logIn","logOut","_","fetchCurrentUser","thunkAPI","state","getState","persistedToken","auth","get","authSlice","createSlice","name","initialState","user","email","isLoggedIn","isFetchingCurrUser","extraReducers","authOperations","fulfilled","action","payload","pending","rejected","getIsLoggedIn","getUserName","getIsFetchingCurrUser","getContacts","contacts","contactsArr","getFilter","filter","getLoader","loader","getVisibleContacts","createSelector","normalizedFilter","toLowerCase","includes","fetchContacts","fetchAddContact","number","fetchDeleteContact","id","delete","contactsAPI","contact","ContactForm","_g","useState","setName","setNumber","useSelector","dispatch","useDispatch","contactInputId","shortid","generate","numberInputId","reset","handleInputChange","e","currentTarget","value","onSubmit","preventDefault","find","alert","contactsOperations","className","s","align","htmlFor","inputLabel","formInput","type","pattern","title","required","autoComplete","placeholder","onChange","btnSubmit","disabled","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgDeleteIcon","_ref","svgRef","titleId","props","enableBackground","height","viewBox","width","xmlns","ref","d","ForwardRef","Contact","onDelete","btnDelete","onClick","ContactList","useEffect","contactList","map","contactItem","onDeleteContact","changeFilter","createAction","contactType","Filter","inputFilter","styles","link","display","textDecoration","padding","fontWeight","color","activeLink","AuthNav","to","exact","style","activeStyle","fontSize","Navigation","authSelectors","UserMenu","container","src","defaultAvatar","alt","avatar","logOut_btn","header","justifyContent","alignItems","borderBottom","AppBar","PrivateRoute","children","redirectTo","routeProps","PublicRoute","restricted","shouldRedirect","Container","HomeView","lazy","LoginView","RegisterView","App","console","log","fallback","path","contactsArrReducer","createReducer","errorReducer","isLoadingReducer","filterReducer","combineReducers","error","authPersistConfig","storage","whitelist","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","store","configureStore","reducer","contactsReducer","persistReducer","authReducer","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.99acf326.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com/\";\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = \"\";\r\n  },\r\n};\r\n\r\nexport const register = createAsyncThunk(\r\n  \"auth/register\",\r\n  async (credentials, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await axios.post(\"/users/signup\", credentials);\r\n      token.set(data.token);\r\n      return data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  }\r\n);\r\n\r\nexport const logIn = createAsyncThunk(\r\n  \"auth/login\",\r\n  async (credentials, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await axios.post(\"/users/login\", credentials);\r\n      token.set(data.token);\r\n      return data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  }\r\n);\r\n\r\nexport const logOut = createAsyncThunk(\r\n  \"auth/logout\",\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      await axios.post(\"/users/logout\");\r\n      token.unset();\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  }\r\n);\r\n\r\nexport const fetchCurrentUser = createAsyncThunk(\r\n  \"auth/refresh\",\r\n  async (_, thunkAPI) => {\r\n    const state = thunkAPI.getState();\r\n    const persistedToken = state.auth.token;\r\n\r\n    if (persistedToken === null) {\r\n      return thunkAPI.rejectWithValue();\r\n    }\r\n\r\n    token.set(persistedToken);\r\n    try {\r\n      const { data } = await axios.get(\"/users/current\");\r\n      return data;\r\n    } catch (error) {\r\n      return thunkAPI.rejectWithValue(error.message);\r\n    }\r\n  }\r\n);\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nimport * as authOperations from \"./authOperations\";\r\n\r\nconst initialState = {\r\n  user: { name: null, email: null },\r\n  token: null,\r\n  isLoggedIn: false,\r\n  isFetchingCurrUser: false,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState,\r\n  extraReducers: {\r\n    [authOperations.register.fulfilled](state, action) {\r\n      state.user = action.payload.user;\r\n      state.token = action.payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [authOperations.logIn.fulfilled](state, action) {\r\n      state.user = action.payload.user;\r\n      state.token = action.payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [authOperations.logOut.fulfilled](state, _) {\r\n      state.user = { name: null, email: null };\r\n      state.token = null;\r\n      state.isLoggedIn = false;\r\n    },\r\n    [authOperations.fetchCurrentUser.pending](state) {\r\n      state.isFetchingCurrUser = true;\r\n    },\r\n    [authOperations.fetchCurrentUser.fulfilled](state, action) {\r\n      state.user = action.payload;\r\n      state.isLoggedIn = true;\r\n      state.isFetchingCurrUser = false;\r\n    },\r\n    [authOperations.fetchCurrentUser.rejected](state) {\r\n      state.isFetchingCurrUser = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport default authSlice.reducer;\r\n","export const getIsLoggedIn = state => state.auth.isLoggedIn;\r\n\r\nexport const getUserName = state => state.auth.user.name;\r\n\r\nexport const getIsFetchingCurrUser = state => state.auth.isFetchingCurrUser;\r\n","import { createSelector } from \"@reduxjs/toolkit\";\r\nexport const getContacts = state => state.contacts.contactsArr;\r\nexport const getFilter = state => state.contacts.filter;\r\nexport const getLoader = state => state.contacts.loader;\r\n\r\nexport const getVisibleContacts = createSelector(\r\n  [getContacts, getFilter],\r\n  (contacts, filter) => {\r\n    const normalizedFilter = filter.toLowerCase();\r\n\r\n    return contacts.filter(({ name }) =>\r\n      name.toLowerCase().includes(normalizedFilter)\r\n    );\r\n  }\r\n);\r\n\r\n// export const getVisibleContacts = state => {\r\n//   const contacts = getContacts(state);\r\n//   const filter = getFilter(state);\r\n\r\n//   const normalizedFilter = filter.toLowerCase();\r\n\r\n//   return contacts.filter(({ name }) =>\r\n//     name.toLowerCase().includes(normalizedFilter)\r\n//   );\r\n// };\r\n","import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\r\n\r\nasync function fetchContacts() {\r\n  const { data } = await axios.get(\"/contacts\");\r\n  return data;\r\n}\r\n\r\nasync function fetchAddContact(name, number) {\r\n  const { data } = await axios.post(\"/contacts\", {\r\n    name,\r\n    number,\r\n  });\r\n  return data;\r\n}\r\n\r\nasync function fetchDeleteContact(id) {\r\n  const { data } = await axios.delete(`/contacts/${id}`);\r\n  return data;\r\n}\r\n\r\nexport { fetchContacts, fetchAddContact, fetchDeleteContact };\r\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport * as contactsAPI from \"services/ContactsAPI\";\r\n\r\nexport const fetchContacts = createAsyncThunk(\r\n  \"contacts/fetchAllContacts\",\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      const contacts = await contactsAPI.fetchContacts();\r\n      return contacts;\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  }\r\n);\r\n\r\nexport const fetchAddContact = createAsyncThunk(\r\n  \"contacts/fetchAddContacts\",\r\n  async ({ name, number }, { rejectWithValue }) => {\r\n    try {\r\n      const contact = await contactsAPI.fetchAddContact(name, number);\r\n      return contact;\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  }\r\n);\r\n\r\nexport const fetchDeleteContact = createAsyncThunk(\r\n  \"contacts/fetchDeleteContacts\",\r\n  async (id, { rejectWithValue }) => {\r\n    try {\r\n      await contactsAPI.fetchDeleteContact(id);\r\n      return id;\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  }\r\n);\r\n","import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport { getContacts, getLoader } from \"redux/contacts/contacts-selectors\";\r\nimport * as contactsOperations from \"redux/contacts/contacts-operations\";\r\nimport PropTypes from \"prop-types\";\r\nimport shortid from \"shortid\";\r\nimport s from \"./ContactForm.module.css\";\r\n\r\nfunction ContactForm() {\r\n  const [name, setName] = useState(\"\");\r\n  const [number, setNumber] = useState(\"\");\r\n  const contacts = useSelector(getContacts);\r\n  const loader = useSelector(getLoader);\r\n  const dispatch = useDispatch();\r\n\r\n  const contactInputId = shortid.generate();\r\n  const numberInputId = shortid.generate();\r\n\r\n  const handleFormSubmit = e => {\r\n    e.preventDefault();\r\n    if (contacts.find(contact => contact.name === name)) {\r\n      alert(`${name} is already exists in contacts`);\r\n      return;\r\n    }\r\n    dispatch(contactsOperations.fetchAddContact({ name, number }));\r\n    reset();\r\n  };\r\n\r\n  const reset = () => {\r\n    setName(\"\");\r\n    setNumber(\"\");\r\n  };\r\n\r\n  const handleInputChange = e => {\r\n    const { name, value } = e.currentTarget;\r\n    switch (name) {\r\n      case \"name\":\r\n        setName(value);\r\n        break;\r\n      case \"number\":\r\n        setNumber(value);\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleFormSubmit} className={s.ContactForm}>\r\n      <div className={s.align}>\r\n        <label htmlFor={contactInputId} className={s.inputLabel}>\r\n          Name\r\n          <input\r\n            className={s.formInput}\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={name}\r\n            pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n            title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\r\n            required\r\n            autoComplete=\"off\"\r\n            id={contactInputId}\r\n            placeholder=\"Enter name\"\r\n            onChange={handleInputChange}\r\n          />\r\n        </label>\r\n        <label htmlFor={numberInputId} className={s.inputLabel}>\r\n          Number\r\n          <input\r\n            className={s.formInput}\r\n            type=\"tel\"\r\n            name=\"number\"\r\n            value={number}\r\n            pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\r\n            title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\r\n            required\r\n            id={numberInputId}\r\n            placeholder=\"+380...\"\r\n            onChange={handleInputChange}\r\n          />\r\n        </label>\r\n      </div>\r\n      <button className={s.btnSubmit} type=\"submit\" disabled={!name}>\r\n        Add contact\r\n      </button>\r\n      {loader && <h2>Loading...</h2>}\r\n    </form>\r\n  );\r\n}\r\n\r\nContactForm.propTypes = {\r\n  contacts: PropTypes.arrayOf(PropTypes.shape(PropTypes.string.isRequired)),\r\n  // onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ContactForm;\r\n","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDeleteIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    enableBackground: \"new 0 0 512 512\",\n    height: 512,\n    viewBox: \"0 0 512 512\",\n    width: 512,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m424 64h-88v-16c0-26.51-21.49-48-48-48h-64c-26.51 0-48 21.49-48 48v16h-88c-22.091 0-40 17.909-40 40v32c0 8.837 7.163 16 16 16h384c8.837 0 16-7.163 16-16v-32c0-22.091-17.909-40-40-40zm-216-16c0-8.82 7.18-16 16-16h64c8.82 0 16 7.18 16 16v16h-96z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m78.364 184c-2.855 0-5.13 2.386-4.994 5.238l13.2 277.042c1.22 25.64 22.28 45.72 47.94 45.72h242.98c25.66 0 46.72-20.08 47.94-45.72l13.2-277.042c.136-2.852-2.139-5.238-4.994-5.238zm241.636 40c0-8.84 7.16-16 16-16s16 7.16 16 16v208c0 8.84-7.16 16-16 16s-16-7.16-16-16zm-80 0c0-8.84 7.16-16 16-16s16 7.16 16 16v208c0 8.84-7.16 16-16 16s-16-7.16-16-16zm-80 0c0-8.84 7.16-16 16-16s16 7.16 16 16v208c0 8.84-7.16 16-16 16s-16-7.16-16-16z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDeleteIcon);\nexport default __webpack_public_path__ + \"static/media/deleteIcon.c49a10b9.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport s from \"./Contact.module.css\";\r\nimport { ReactComponent as DeleteIcon } from \"../icons/deleteIcon.svg\";\r\n\r\nconst Contact = ({ name, number, onDelete }) => {\r\n  return (\r\n    <>\r\n      <p>{name}</p>\r\n      <div className={s.align}>\r\n        <p>{number}</p>\r\n      </div>\r\n      <button className={s.btnDelete} onClick={onDelete}>\r\n        <DeleteIcon width=\"25\" height=\"20\" />\r\n      </button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Contact;\r\n","import React, { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n// import PropTypes from \"prop-types\";\r\n\r\nimport {\r\n  getVisibleContacts,\r\n  getLoader,\r\n} from \"redux/contacts/contacts-selectors\";\r\nimport * as contactsOperations from \"redux/contacts/contacts-operations\";\r\nimport Contact from \"../Contact/Contact\";\r\nimport s from \"./ContactList.module.css\";\r\n\r\nconst ContactList = () => {\r\n  const contacts = useSelector(getVisibleContacts);\r\n  const loader = useSelector(getLoader);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(contactsOperations.fetchContacts());\r\n  }, [dispatch]);\r\n\r\n  const onDeleteContact = id => {\r\n    dispatch(contactsOperations.fetchDeleteContact(id));\r\n  };\r\n  return (\r\n    <>\r\n      {loader && <h2>Loading...</h2>}\r\n      {contacts.length !== 0 ? (\r\n        <ul className={s.contactList}>\r\n          {contacts.map(({ id, name, number }) => {\r\n            return (\r\n              <li key={id} className={s.contactItem}>\r\n                {\r\n                  <Contact\r\n                    name={name}\r\n                    number={number}\r\n                    onDelete={() => onDeleteContact(id)}\r\n                  />\r\n                }\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      ) : (\r\n        <p className=\"plug-paragraph\">No contact exists</p>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\n// ContactList.propTypes = {\r\n//   contacts: PropTypes.arrayOf(PropTypes.shape(PropTypes.string.isRequired)),\r\n//   onDeleteContact: PropTypes.func.isRequired,\r\n// };\r\n\r\nexport default ContactList;\r\n","import { createAction } from \"@reduxjs/toolkit\";\r\nimport shortid from \"shortid\";\r\n\r\nexport const fetchContactsRequest = createAction(\r\n  \"contacts/fetchContactsRequest\"\r\n);\r\nexport const fetchContactsSuccess = createAction(\r\n  \"contacts/fetchContactsSuccess\"\r\n);\r\nexport const fetchContactsError = createAction(\"contacts/fetchContactsError\");\r\n\r\nexport const addContact = createAction(\r\n  \"contacts/Add\",\r\n  ({ name, number, contactType }) => {\r\n    return {\r\n      payload: {\r\n        id: shortid.generate(),\r\n        name,\r\n        number,\r\n        contactType,\r\n      },\r\n    };\r\n  }\r\n);\r\nexport const deleteContact = createAction(\"contacts/Delete\");\r\nexport const changeFilter = createAction(\"contacts/Filter\");\r\n","import React from \"react\";\r\n// import PropTypes from \"prop-types\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport { getFilter } from \"../../redux/contacts/contacts-selectors\";\r\nimport { changeFilter } from \"../../redux/contacts/contacts-actions\";\r\nimport s from \"./Filter.module.css\";\r\n\r\nconst Filter = () => {\r\n  const filter = useSelector(getFilter);\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <label className={s.inputLabel}>\r\n      Find contact by name\r\n      <input\r\n        className={s.inputFilter}\r\n        type=\"text\"\r\n        name=\"filter\"\r\n        value={filter}\r\n        placeholder=\"Start to type\"\r\n        onChange={e => dispatch(changeFilter(e.target.value))}\r\n      />\r\n    </label>\r\n  );\r\n};\r\n\r\n// Filter.propTypes = {\r\n//   value: PropTypes.string.isRequired,\r\n//   onChange: PropTypes.func.isRequired,\r\n// };\r\n\r\nexport default Filter;\r\n","import { NavLink } from \"react-router-dom\";\r\n\r\nconst styles = {\r\n  link: {\r\n    display: \"inline-block\",\r\n    textDecoration: \"none\",\r\n    padding: 12,\r\n    fontWeight: 700,\r\n    color: \"rgb(59, 11, 73)\",\r\n  },\r\n  activeLink: {\r\n    color: \"rgba(131, 30, 131, 0.712)\",\r\n  },\r\n};\r\n\r\nexport default function AuthNav() {\r\n  return (\r\n    <div>\r\n      <NavLink\r\n        to=\"/register\"\r\n        exact\r\n        style={styles.link}\r\n        activeStyle={styles.activeLink}\r\n      >\r\n        Sign Up\r\n      </NavLink>\r\n      <NavLink\r\n        to=\"/login\"\r\n        exact\r\n        style={styles.link}\r\n        activeStyle={styles.activeLink}\r\n      >\r\n        Log In\r\n      </NavLink>\r\n    </div>\r\n  );\r\n}\r\n","import { useSelector } from \"react-redux\";\r\nimport HomeRoundedIcon from \"@material-ui/icons/HomeRounded\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { authSelectors } from \"redux/auth\";\r\n\r\nconst styles = {\r\n  link: {\r\n    display: \"inline-block\",\r\n    textDecoration: \"none\",\r\n    padding: 12,\r\n    fontWeight: 700,\r\n    color: \"rgb(59, 11, 73)\",\r\n    fontSize: \"1.17em\",\r\n  },\r\n  activeLink: {\r\n    color: \"rgba(131, 30, 131, 0.712)\",\r\n  },\r\n};\r\n\r\nexport default function Navigation() {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <div>\r\n      <NavLink to=\"/\" exact style={styles.link} activeStyle={styles.activeLink}>\r\n        <HomeRoundedIcon />\r\n      </NavLink>\r\n      {isLoggedIn && (\r\n        <NavLink\r\n          to=\"/contacts\"\r\n          style={styles.link}\r\n          activeStyle={styles.activeLink}\r\n        >\r\n          Contacts\r\n        </NavLink>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/dungeon.40addcbf.svg\";","import { useSelector, useDispatch } from \"react-redux\";\r\nimport { authOperations, authSelectors } from \"redux/auth\";\r\nimport defaultAvatar from \"../icons/dungeon.svg\";\r\nimport ExitToAppRoundedIcon from \"@material-ui/icons/ExitToAppRounded\";\r\nimport s from \"./UserMenu.module.css\";\r\n\r\nexport default function UserMenu() {\r\n  const name = useSelector(authSelectors.getUserName);\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      <img src={defaultAvatar} alt=\"\" width=\"32\" className={s.avatar} />\r\n      <h3 className={s.name}>Hello, {name}</h3>\r\n      <button\r\n        className={s.logOut_btn}\r\n        type=\"button\"\r\n        onClick={() => {\r\n          dispatch(authOperations.logOut());\r\n        }}\r\n      >\r\n        <ExitToAppRoundedIcon />\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import { useSelector } from \"react-redux\";\r\n\r\nimport AuthNav from \"components/AuthNav/AuthNav\";\r\nimport Navigation from \"components/Navigation/Navigation\";\r\nimport UserMenu from \"components/UserMenu/UserMenu\";\r\nimport { authSelectors } from \"redux/auth\";\r\n\r\nconst styles = {\r\n  header: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    borderBottom: \"1px solid #2A363B\",\r\n  },\r\n};\r\n\r\nexport default function AppBar() {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <nav style={styles.header}>\r\n      <Navigation />\r\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\r\n    </nav>\r\n  );\r\n}\r\n","import { useSelector } from \"react-redux\";\r\nimport { Redirect, Route } from \"react-router\";\r\nimport { authSelectors } from \"redux/auth\";\r\n\r\nexport default function PrivateRoute({\r\n  children,\r\n  redirectTo = \"/\",\r\n  ...routeProps\r\n}) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <Route {...routeProps}>\r\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\r\n    </Route>\r\n  );\r\n}\r\n","import { useSelector } from \"react-redux\";\r\nimport { Redirect, Route } from \"react-router\";\r\nimport { authSelectors } from \"redux/auth\";\r\n\r\nexport default function PublicRoute({\r\n  children,\r\n  restricted = false,\r\n  redirectTo = \"/\",\r\n  ...routeProps\r\n}) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  const shouldRedirect = isLoggedIn && restricted;\r\n  return (\r\n    <Route {...routeProps}>\r\n      {shouldRedirect ? <Redirect to={redirectTo} /> : children}\r\n    </Route>\r\n  );\r\n}\r\n","import styles from \"./Container.module.css\";\r\n\r\nexport default function Container({ children }) {\r\n  return <div className={styles.container}>{children}</div>;\r\n}\r\n","import React, { lazy, Suspense, useEffect } from \"react\";\r\nimport { Switch } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { authOperations, authSelectors } from \"redux/auth\";\r\n\r\nimport ContactForm from \"./components/ContactForm\";\r\nimport ContactList from \"./components/ContactList\";\r\nimport Filter from \"./components/Filter\";\r\nimport AppBar from \"components/AppBar/AppBar\";\r\nimport PrivateRoute from \"components/PrivateRoute\";\r\nimport PublicRoute from \"components/PublicRoute\";\r\nimport Container from \"components/Container\";\r\nimport \"./App.css\";\r\n\r\nconst HomeView = lazy(() => import(\"views/HomeView\"));\r\nconst LoginView = lazy(() => import(\"views/LoginView\"));\r\nconst RegisterView = lazy(() => import(\"views/RegisterView\"));\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch();\r\n  const isFetchingCurrUser = useSelector(authSelectors.getIsFetchingCurrUser);\r\n  console.log(\"~ isFetchingCurrUser\", isFetchingCurrUser);\r\n\r\n  useEffect(() => {\r\n    dispatch(authOperations.fetchCurrentUser());\r\n  }, [dispatch]);\r\n  return (\r\n    !isFetchingCurrUser && (\r\n      <Container>\r\n        <AppBar />\r\n        <Switch>\r\n          <Suspense fallback={<p>Loading...</p>}>\r\n            <PublicRoute path=\"/\" exact>\r\n              <HomeView />\r\n            </PublicRoute>\r\n            <PublicRoute path=\"/register\" restricted>\r\n              <RegisterView />\r\n            </PublicRoute>\r\n            <PublicRoute path=\"/login\" redirectTo=\"/contacts\" restricted>\r\n              <LoginView />\r\n            </PublicRoute>\r\n            <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\r\n              <div className=\"phoneBook-container\">\r\n                <h1 className=\"phoneBook-header\">Phonebook</h1>\r\n                <ContactForm />\r\n                <h2 className=\"phoneBook-header\">Contacts</h2>\r\n                <Filter />\r\n                <ContactList />\r\n              </div>\r\n            </PrivateRoute>\r\n          </Suspense>\r\n        </Switch>\r\n      </Container>\r\n    )\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { combineReducers } from \"redux\";\r\nimport { /*createAction,*/ createReducer } from \"@reduxjs/toolkit\";\r\nimport { changeFilter } from \"./contacts-actions\";\r\nimport {\r\n  fetchContacts,\r\n  fetchAddContact,\r\n  fetchDeleteContact,\r\n} from \"./contacts-operations\";\r\n\r\nconst contactsArrReducer = createReducer([], {\r\n  [fetchContacts.fulfilled]: (_, action) => action.payload,\r\n  [fetchAddContact.fulfilled]: (state, action) => [...state, action.payload],\r\n  [fetchDeleteContact.fulfilled]: (state, action) =>\r\n    state.filter(({ id }) => id !== action.payload),\r\n});\r\n\r\nconst errorReducer = createReducer(null, {\r\n  [fetchContacts.rejected]: (_, action) => action.payload,\r\n  [fetchContacts.pending]: () => null,\r\n  [fetchAddContact.rejected]: (_, action) => action.payload,\r\n  [fetchAddContact.pending]: () => null,\r\n  [fetchDeleteContact.rejected]: (_, action) => action.payload,\r\n  [fetchDeleteContact.pending]: () => null,\r\n});\r\n\r\nconst isLoadingReducer = createReducer(false, {\r\n  [fetchContacts.pending]: () => true,\r\n  [fetchContacts.fulfilled]: () => false,\r\n  [fetchContacts.rejected]: () => false,\r\n  [fetchAddContact.pending]: () => true,\r\n  [fetchAddContact.fulfilled]: () => false,\r\n  [fetchAddContact.rejected]: () => false,\r\n  [fetchDeleteContact.pending]: () => true,\r\n  [fetchDeleteContact.fulfilled]: () => false,\r\n  [fetchDeleteContact.rejected]: () => false,\r\n});\r\n\r\nconst filterReducer = createReducer(\"\", {\r\n  [changeFilter]: (_, action) => action.payload,\r\n});\r\n\r\nexport default combineReducers({\r\n  contactsArr: contactsArrReducer,\r\n  filter: filterReducer,\r\n  loader: isLoadingReducer,\r\n  error: errorReducer,\r\n});\r\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\r\nimport logger from \"redux-logger\";\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\"; // defaults to localStorage for web\r\nimport { authReducer } from \"./auth\";\r\nimport contactsReducer from \"./contacts/contacts-reducer\";\r\n\r\nconst authPersistConfig = {\r\n  key: \"auth\",\r\n  storage,\r\n  whitelist: [\"token\"],\r\n};\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n  logger,\r\n];\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    contacts: contactsReducer,\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n  },\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === \"development\", //devtools будут только во время разработки\r\n});\r\n\r\nexport const persistor = persistStore(store);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport \"modern-normalize/modern-normalize.css\";\r\nimport { Provider } from \"react-redux\";\r\nimport { PersistGate } from \"redux-persist/integration/react\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { store, persistor } from \"./redux/store\";\r\n\r\n// console.log(store.getState());\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <React.StrictMode>\r\n      <Provider store={store}>\r\n        <PersistGate loading={null} persistor={persistor}>\r\n          <App />\r\n        </PersistGate>\r\n      </Provider>\r\n    </React.StrictMode>\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ContactForm\":\"ContactForm_ContactForm__-nDGJ\",\"align\":\"ContactForm_align__2T8V3\",\"inputLabel\":\"ContactForm_inputLabel__2M9ij\",\"formInput\":\"ContactForm_formInput__2rXwL\",\"radioAlign\":\"ContactForm_radioAlign__3Ee11\",\"radioTitle\":\"ContactForm_radioTitle__3Dkbn\",\"radioLabel\":\"ContactForm_radioLabel__1ragb\",\"btnSubmit\":\"ContactForm_btnSubmit__OifMF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__3W4px\",\"avatar\":\"UserMenu_avatar__Iz80x\",\"name\":\"UserMenu_name__2guxv\",\"logOut_btn\":\"UserMenu_logOut_btn__1hVK3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"align\":\"Contact_align__ufRdH\",\"contactType\":\"Contact_contactType__3bta5\",\"btnDelete\":\"Contact_btnDelete__160vK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contactList\":\"ContactList_contactList__17_gL\",\"contactItem\":\"ContactList_contactItem__1gp1e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputLabel\":\"Filter_inputLabel__3EebL\",\"inputFilter\":\"Filter_inputFilter__3ybWY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3bxop\"};"],"sourceRoot":""}